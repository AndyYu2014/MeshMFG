[
  {
    "doctype": "Client Script",
    "name": "Item-Mesh Toggle",
    "dt": "Item",
    "enabled": 1,
    "script_type": "Client",
    "script": 
"frappe.ui.form.on('Item', {\n\
  item_group: function(frm) {\n\
    toggle_mesh_fields(frm);\n\
  },\n\
\n\
  onload: function(frm) {\n\
    toggle_mesh_fields(frm);\n\
  }\n\
});\n\
\n\
function toggle_mesh_fields(frm) {\n\
  const mesh_item_groups = [\n\
    \"圆形冲孔网\",\n\
    \"异形孔冲孔网\" 
  ];\n\
\n\
  const show = mesh_item_groups.includes(frm.doc.item_group);\n\
\n\
  const mesh_fields = [\n\
    \"custom_holediameter\",\n\
    \"custom_surfacetreatment\",\n\
    \"mesh_opening\",\n\
    \"mesh_thickness\",\n\
    \"mesh_material\"\n\
  ];\n\
\n\
  mesh_fields.forEach(field => {\n\
    frm.set_df_property(field, 'hidden', !show);\n\
  });\n\
\n\
  frm.refresh_fields();\n\
}"
  }
]
